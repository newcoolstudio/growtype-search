!function(){"use strict";var e,r={502:function(){!function(){function e(e){e.parent().find(".growtype-search-wrapper").is(":visible")?(e.addClass("is-active"),e.parent().find(".growtype-search-wrapper").fadeOut()):(e.removeClass("is-active"),e.parent().find(".growtype-search-wrapper").fadeIn(),e.parent().find(".growtype-search-input").focus())}function r(e){e.closest(".growtype-search-wrapper").fadeOut()}jQuery(document).ready((function(t){jQuery(".btn-growtype-search-open").click((function(){e(jQuery(this))})),jQuery(".btn-growtype-search-close").click((function(e){e.preventDefault(),r(jQuery(this))}))})),document.addEventListener("growtypeHeaderFixedLoaded",(function(t){Object.entries(t.detail.clonedScrollableElements).map((function(t){t[1].find(".btn-growtype-search-open").click((function(){e(jQuery(this))})),t[1].find(".btn-growtype-search-close").click((function(){r(jQuery(this))}))}))}))}(),function(){var e=!1;function r(r,s){var n,a="true"===s.search_on_load,o="true"===s.search_on_type,i="true"===s.search_on_empty;(r.map((function(n,a){var o=!0;$(a).find(".btn-growtype-search-submit").on("click",(function(n){var a=jQuery(this).closest('.growtype-search-wrapper[data-ajax="true"]');a=a&&a.length>0;var c=r.find(".growtype-search-input");if(!i&&0===c.val().length)return n.preventDefault(),void c.addClass("is-error");a&&(n.preventDefault(),1==o&&(o=!1,setTimeout((function(){o=!0}),1500),i&&(e=!0),t(r,s)))}))})),a&&(e=!0,t(r,s)),o)&&r.on("input",(function(){clearTimeout(n),n=setTimeout((function(){t(r,formDetails)}),500)}));r.closest(".growtype-search-wrapper").find(".growtype-search-results-actions .growtype-search-results-btn").click((function(){jQuery(this).hasClass("is-active")?(jQuery(this).removeClass("is-active"),jQuery(this).text(jQuery(this).attr("data-show-more")),jQuery(this).closest(".growtype-search-wrapper").find(".growtype-search-results .initialy-is-hidden").fadeOut()):(jQuery(this).addClass("is-active"),jQuery(this).text(jQuery(this).attr("data-show-less")),jQuery(this).closest(".growtype-search-wrapper").find(".growtype-search-results .initialy-is-hidden").fadeIn())}))}function t(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=r.find(".growtype-search-value"),a={},o=!0;n.map((function(r,t){var s=$(t).val(),n=!1;if(e?n=!1:s.length<3&&(n=!0),n)return $(t).addClass("is-error"),void(o=!1);$(t).removeClass("is-error"),a[$(t).attr("name")]=s})),o&&(r.closest(".growtype-search-wrapper").removeClass("is-loading"),r.closest(".growtype-search-wrapper").find(".growtype-search-results").fadeOut(),r.closest(".growtype-search-wrapper").find(".growtype-search-results-actions").fadeOut(),"undefined"!=typeof gtag&&gtag("event","search",{event_category:"search",event_label:a}),$.ajax({type:"post",context:this,dataType:"json",url:growtype_search_ajax.url,data:{action:growtype_search_ajax.action,nonce:growtype_search_ajax.nonce,search:a,settings_static:null!==t?t:null},beforeSend:function(){r.closest(".growtype-search-wrapper").addClass("is-loading")},success:function(n){e=!1,r.closest(".growtype-search-wrapper").removeClass("is-loading"),r.closest(".growtype-search-wrapper").removeClass("is-loading"),r.closest(".growtype-search-wrapper").find(".growtype-search-results").fadeIn();var a=jQuery(n.html),o=!1;if(t.visible_results_amount){var i=0;a.map((function(e,r){void 0!==r.innerHTML&&(i>=t.visible_results_amount&&(jQuery(r).addClass("initialy-is-hidden").hide(),o=!0),i++)}))}o&&r.closest(".growtype-search-wrapper").find(".growtype-search-results-actions").fadeIn(),r.closest(".growtype-search-wrapper").find(".growtype-search-results .growtype-search-results-inner").html(a),s()}}))}function s(){$(".growtype-search-results .btn-close").click((function(){$(this).closest(".growtype-search-results").fadeOut()}))}Object.entries(window.growtype_search).map((function(e){var t=e[1].static;t.id=e[0],r(jQuery("#"+e[0]+" .growtype-search-form"),t)})),document.addEventListener("growtypeHeaderFixedLoaded",(function(e){Object.entries(e.detail.clonedScrollableElements).map((function(e){var t=$(e[1]).find(".growtype-search-wrapper").attr("id"),s=window.growtype_search[t].static;s.id=t,r($(e[1]).find(".growtype-search-form"),s)}))}))}()},936:function(){}},t={};function s(e){var n=t[e];if(void 0!==n)return n.exports;var a=t[e]={exports:{}};return r[e](a,a.exports,s),a.exports}s.m=r,e=[],s.O=function(r,t,n,a){if(!t){var o=1/0;for(p=0;p<e.length;p++){t=e[p][0],n=e[p][1],a=e[p][2];for(var i=!0,c=0;c<t.length;c++)(!1&a||o>=a)&&Object.keys(s.O).every((function(e){return s.O[e](t[c])}))?t.splice(c--,1):(i=!1,a<o&&(o=a));if(i){e.splice(p--,1);var u=n();void 0!==u&&(r=u)}}return r}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[t,n,a]},s.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},function(){var e={826:0,710:0};s.O.j=function(r){return 0===e[r]};var r=function(r,t){var n,a,o=t[0],i=t[1],c=t[2],u=0;if(o.some((function(r){return 0!==e[r]}))){for(n in i)s.o(i,n)&&(s.m[n]=i[n]);if(c)var p=c(s)}for(r&&r(t);u<o.length;u++)a=o[u],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(p)},t=self.webpackChunkplugin=self.webpackChunkplugin||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))}(),s.O(void 0,[710],(function(){return s(502)}));var n=s.O(void 0,[710],(function(){return s(936)}));n=s.O(n)}();
//# sourceMappingURL=growtype-search.js.map